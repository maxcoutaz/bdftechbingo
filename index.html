<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Tech Bingo</title>
    <style>
        /* Basic styles */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #0032a0;
            margin: 0;
            padding: 10px;
            box-sizing: border-box;
        }
        .bingo-container {
            text-align: center;
            max-width: 100%;
            width: 100%;
        }
        h1 {
            color: #ffffff;
            font-size: 5.5rem;
            margin-bottom: 20px;
        }
        .bingo-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
            margin-top: 10px;
        }
        .bingo-cell {
            background-color: #0032a0 0.3;
            color: #ffffff;
            border: 2px solid #ffffff;
            border-radius: 5px;
            padding: 15px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 50px;
        }
        .bingo-cell:hover {
            background-color: #0032a0;
        }
        .bingo-cell.marked {
            background-color: #00916d;
            color: #ffffff;
        }
        #resetButton {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1rem;
            background-color: #ffffff;
            color: #0032a0;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #resetButton:hover {
            background-color: #ffffff;
        }

        /* Responsive styling */
        @media (max-width: 600px) {
            .bingo-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 4px;
            }
            .bingo-cell {
                font-size: 0.9rem;
                padding: 10px;
            }
            h1 {
                font-size: 1.2rem;
            }
            #resetButton {
                font-size: 0.9rem;
                padding: 8px 15px;
            }
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2rem;
            width: 90%;
            z-index: 1000;
        }
        .popup.show {
            display: block;
        }
        .bingo-image {
            width: 25%;
            max-width: 200px;
            margin-bottom: 20px;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="bingo-container">
        <img src="image/bingo_image.png" alt="Bingo Game" class="bingo-image">
        <h1>Media Tech Bingo</h1>
        <div class="bingo-grid" id="bingoGrid">
            <!-- Cells will be generated by JavaScript -->
        </div>
        <button id="resetButton">Delete & Restart</button>
        <div class="popup" id="congratsPopup">ðŸŽ‰ Congratulations! ðŸŽ‰ <br> Take a screenshot and send it to globaladtech@beiersdorf.com and see if you won</div>
    </div>

    <script>
        // List of 70 unique words
        const words = [
            "Taxonomy", "ID Briefing", "AI", "Personalization", "Carbon Footprint", "Media Mix", "Predictive Analytics", "Customer Journey", "Ad Fraud", "GDPR Compliance",
            "SSP", "Greenwashing", "Campaign Optimization", "Influencer", "Precision", "KPI", "Scorecard", "Data Driven", "Magic", "Brand Safety",
            "Skincare Suitability", "Support", "Connectivity", "Villain", "Demistify", "Beiersdorf", "Best in Class", "Durian", "Eggplant",
            "Feijoa", "Grapefruit", "Huckleberry", "Indian Fig", "Jackfruit", "Kumquat", "Lime", "Mulberry", "Nance", "Olive",
            "Peach", "Pineapple", "Rambutan", "Starfruit", "Tomato", "Uva Ursi", "Voavanga", "Wolfberry", "Ximenia", "Yellow Passionfruit",
            "Zig Zag Vine", "Ackee", "Breadfruit", "Clementine", "Damson", "Elderberry", "Finger Lime", "Guava", "Hackberry", "Imbe",
            "Jujube", "Kaffir Lime", "Longan", "Medlar", "Nutmeg", "Okra", "Prickly Pear", "Quandong", "Red Banana", "Salak"
        ];

        // Generate a random selection of 20 words for the Bingo card
        function generateBingoWords() {
            const selectedWords = [];
            const usedIndices = new Set();

            while (selectedWords.length < 20) {
                const randomIndex = Math.floor(Math.random() * words.length);
                if (!usedIndices.has(randomIndex)) {
                    selectedWords.push(words[randomIndex]);
                    usedIndices.add(randomIndex);
                }
            }
            return selectedWords;
        }

        // Render the Bingo grid
        function renderBingoGrid(words) {
            const bingoGrid = document.getElementById('bingoGrid');
            bingoGrid.innerHTML = ''; // Clear existing cells

            words.forEach((word, index) => {
                const cell = document.createElement('div');
                cell.classList.add('bingo-cell');
                cell.textContent = word;
                cell.setAttribute('data-cell', index);

                // Marking functionality
                cell.addEventListener('click', () => {
                    cell.classList.toggle('marked');
                    saveCellState(index, cell.classList.contains('marked'));
                    checkBingoCompletion(); // Check if Bingo is complete on each click
                });

                bingoGrid.appendChild(cell);
            });
        }

        // Save individual cell state to localStorage
        function saveCellState(index, isMarked) {
            if (isMarked) {
                localStorage.setItem(`cell_${index}`, 'marked');
            } else {
                localStorage.removeItem(`cell_${index}`);
            }
        }

        // Load the Bingo card from localStorage
        function loadBingoGrid() {
            // Load the selected words from localStorage, or generate new ones if none are saved
            let selectedWords = JSON.parse(localStorage.getItem('selectedWords'));
            if (!selectedWords) {
                selectedWords = generateBingoWords();
                localStorage.setItem('selectedWords', JSON.stringify(selectedWords));
            }
            renderBingoGrid(selectedWords);

            // Load cell marked states
            selectedWords.forEach((_, index) => {
                const cell = document.querySelector(`[data-cell="${index}"]`);
                if (localStorage.getItem(`cell_${index}`) === 'marked') {
                    cell.classList.add('marked');
                }
            });
        }

        // Reset function to clear the grid and localStorage
        function resetBingoGrid() {
            localStorage.clear();
            const newWords = generateBingoWords();
            localStorage.setItem('selectedWords', JSON.stringify(newWords));
            renderBingoGrid(newWords);
        }

        // Event listener for reset button
        document.getElementById('resetButton').addEventListener('click', resetBingoGrid);

        // Load the grid when the page loads
        loadBingoGrid();

        // Check if Bingo is complete
        function checkBingoCompletion() {
            const markedCells = document.querySelectorAll('.bingo-cell.marked');
            if (markedCells.length === 20) { // If all 20 cells are marked
                showPopup();
            }
        }

        // Show the popup with a firework effect
        function showPopup() {
            const popup = document.getElementById('congratsPopup');
            popup.classList.add('show');
            setTimeout(() => {
                popup.classList.remove('show');
            }, 30000); // Hide popup after 30 seconds
        }
    </script>
</body>
</html>
